#!/usr/bin/zsh
#        _                        _            ___  _  _
#   __ _| | _____  _____ ___   __| | ___ _ __ / _ \| || |
#  / _` | |/ _ \ \/ / __/ _ \ / _` |/ _ \ '__| | | | || |_
# | (_| | |  __/>  < (_| (_) | (_| |  __/ |  | |_| |__   _|
#  \__,_|_|\___/_/\_\___\___/ \__,_|\___|_|   \___/   |_|
#
# Copyright (c) 2021 alexcoder04 <https://github.com/alexcoder04>
#      
# zsh config

# ---------------------------------------------------------
# CHECK IF RUNNING IN INTERACTIVE MODE
# ---------------------------------------------------------
[[ -o interactive ]] || exit

# ---------------------------------------------------------
# SOURCE OTHER FILES
# ---------------------------------------------------------
source "$ZDOTDIR/cursor.zsh"
source "$ZDOTDIR/abbreviations.zsh"
source "$ZDOTDIR/aliases.zsh"
source "$ZDOTDIR/bookmarks.zsh"
source "$ZDOTDIR/functions.zsh"
source "$ZDOTDIR/lf_icons.zsh"

# ---------------------------------------------------------
# HISTORY CONFIGURATION
# ---------------------------------------------------------
HISTFILE=~/.cache/zsh/zsh_history
HISTSIZE=1000
SAVEHIST=1000

# ---------------------------------------------------------
# AUTOCOMPLETION
# ---------------------------------------------------------
autoload -U compinit
zstyle :compinstall filename "$XDG_CONFIG_HOME/zsh/zshrc"
zstyle ':completion:*' menu select
zmodload zsh/complist
compinit
_com_options+=(globdots)

# ---------------------------------------------------------
# KEYBINDINGS
# ---------------------------------------------------------
KEYTIMEOUT=3
# vi mode
bindkey -v
# vi navigation in menu
bindkey -M menuselect 'h' vi-backward-char
bindkey -M menuselect 'j' vi-down-line-or-history
bindkey -M menuselect 'k' vi-up-line-or-history
bindkey -M menuselect 'l' vi-forward-char
# edit command in editor
autoload edit-command-line; zle -N edit-command-line
bindkey '^e' edit-command-line

# ---------------------------------------------------------
# OTHER SETTINGS
# ---------------------------------------------------------
setopt autocd
unsetopt beep extendedglob notify

# ---------------------------------------------------------
# PROMPT
# ---------------------------------------------------------
eval "$(starship init zsh)"

# ---------------------------------------------------------
# SYNTAX HIGHLIGHTING
# ---------------------------------------------------------
source "+ZSH_SYNTAX_PLUGIN+"

# ---------------------------------------------------------
# AUTOSTART
# ---------------------------------------------------------
# Choose what you want to see
# ---------------------------------------------------------

# 1) Simple system information
#pfetch

# 2) More system information
#neofetch

# 3) Random color script
#colorscript random

# 4) Nice greeting
#echo "\033[01;32mNice to see you in the Terminal again, Alex =)\033[00m"

# 5) auto-check whether in tty or gui
[ "$TERM" = "linux" ] \
  && neofetch \
  || colorscript random

